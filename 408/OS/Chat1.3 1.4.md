# 1.3 操作系统的运行机制

* 计算机系统中执行的程序分为两种不同性质的程序，一种是用户态(目态)，一种是核心态(管态)
* 用户态转化到核心态实质上是通过**硬件**实现的
* 用户态的程序大多可以分为 时钟管理，中断机制，原语，进程的管理和调度

#### 1.中断和异常的概念

* 中断，又称为外中断，硬中断，不是由CPU有关的东西发出的中断，一般有外设请求，人的干预，可以被屏蔽，可以按照优先级排队执行
* 异常，又称为内中断，软中断，由CPU有关的东西发出的中断，包含有指令中断，硬件故障，软件中断，不可以屏蔽，一般都是马上就要执行
* 访管指令，让用户进行系统调用时 做陷入(trap)指令进入内核态， 之后会在内核态做返回指令返回用户态



***

* 进行切换不能在用户态执行
* 置时钟命令只能在核心态运行
* 除访管命令以外都能在内核态运行
* 中断发生之后，必须保存PC和PSW(程序状态字寄存器)
* 异常处理后，有可能不从原本的地方执行
* 处理外部中断之后，操作系统应当保存通用寄存器的内容



# 1.4 操作系统的体系结构

* 分为大内核和微内核，所谓大内核就是所有功能模块都放在内核当中，效率更好，
* 而微内核只把更加重要的那一部分放在那里，更可靠和稳定，更好维护，但是效率没有大内核好