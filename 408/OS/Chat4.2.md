# 4.2文件系统实现

#### 1.文件系统层次结构

* 用户调用接口，文件目录系统，存取控制验证，逻辑文件系统文件缓冲区，物理文件系统，分配模块，设备管理程序模块

#### 2.文件物理结构，文件分配(磁盘块)方式

* 连续分配，隐式链接，显示链接(带链接表，或许会有fat)，索引分配(很像领接表)
* 索引题套路p232 2 直接索引，一级索引，二级索引

#### 3.文件存储空间处理

* 空闲表，空间链表，位示图法


* 位示图法，i = (b-1)/n+1; j = (b-1)%n+1

> 上面的公式是按照从1开始的情况计算的
>
> i，j称作行号，列号，又称作字号，位号



***

* 链接分配不适合直接存取
* 对于磁盘访问的次数问题需要重点掌握