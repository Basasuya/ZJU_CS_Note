# 3.4 流量控制与可靠传输机制

#### 1.共性

* 只有接受窗口向前移动的时候，发送窗口才有可能向前滑动
* 当窗口滑动到尽头的时候，那么超出的部分会溢出到整个序列的一开始如345012这种
* 可靠传输靠着确认和可靠传输机制进行保证
* **重要概念**

> 帧本身是没有编号的，也没有多少之分，所谓的帧序列比特数也就是我一共可以使用多少个串口编号，编号是使用的，比方说3bit,0-7，用到7之后会用0，而窗口大小不一定是8个，这是为了区别所谓的新旧帧数，记住GBN和SR对于窗口大小的限制的道理不一样的，需要理解

#### 1.停止等待协议

* 这里的ACK确认帧和之后的不一样，ACK后面带的是对于需要什么，发0，返回ACK1,发1，返回ACK0，这里喝后面两种协议是不一样的

#### 2.后退N帧，GBN

* 一般采用累计确认
* 发送窗口小于$2^{n} - 1$

#### 3.多帧滑动，选择重传(SR)

* 一般采用累积确认
* 发送窗口A和接受窗口B$A+B \leq 2^{n}$

#### 4.信道传输率(吞吐率)，信道效率

* 信道效率就是信道实际用于传输数据的时间比
* 信道传输率就是传输数据除以周期时间
* 数据传输率是发送速度


> 这类计算器比较讲究技巧
>
> 首先分母总时间，如果题目强调了有确认帧，那么就是2*L+RTT，否则只有一个L
>
> 分子如果是数据传输率的话，是指含数据，不含文件头的
>
> 分子是信道效率的话，要看信道大小，停止等待1个，后退N帧是和选择重传都是窗口大小为准，当然还有然你算极限相除的情况，这里还有一个坑就是算出后，如果是选择重传，还要乘一个2



***

#### 易错点

* 窗口大小不等于发送窗口大小，窗口大小相当于$2^{n}$
* P79 13，14
* 传输时延又称为发送时延
* p80 5，6